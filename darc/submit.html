
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Submission &#8212; darc 0.9.4.post2 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Requests Wrapper" href="requests.html" />
    <link rel="prev" title="Link Database" href="db.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <span class="target" id="module-darc.submit"></span><div class="section" id="data-submission">
<h1>Data Submission<a class="headerlink" href="#data-submission" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="index.html#module-darc" title="darc"><code class="xref py py-mod docutils literal notranslate"><span class="pre">darc</span></code></a> project integrates the capability of submitting
fetched data and information to a web server, to support real-time
cross-analysis and status display.</p>
<p>There are three submission events:</p>
<ol class="arabic">
<li><p>New Host Submission – <a class="reference internal" href="#darc.submit.darc.submit.API_NEW_HOST" title="darc.submit.darc.submit.API_NEW_HOST"><code class="xref py py-data docutils literal notranslate"><span class="pre">API_NEW_HOST</span></code></a></p>
<p>Submitted in <a class="reference internal" href="crawl.html#darc.crawl.crawler" title="darc.crawl.crawler"><code class="xref py py-func docutils literal notranslate"><span class="pre">crawler()</span></code></a> function call, when the
crawling URL is marked as a new host.</p>
</li>
<li><p>Requests Submission – <a class="reference internal" href="#darc.submit.darc.submit.API_REQUESTS" title="darc.submit.darc.submit.API_REQUESTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">API_REQUESTS</span></code></a></p>
<p>Submitted in <a class="reference internal" href="crawl.html#darc.crawl.crawler" title="darc.crawl.crawler"><code class="xref py py-func docutils literal notranslate"><span class="pre">crawler()</span></code></a> function call, after the
crawling process of the URL using <a class="reference external" href="https://docs.python-requests.org/en/latest/api/#module-requests" title="(in Requests v2.25.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">requests</span></code></a>.</p>
</li>
<li><p>Selenium Submission – <a class="reference internal" href="#darc.submit.darc.submit.API_SELENIUM" title="darc.submit.darc.submit.API_SELENIUM"><code class="xref py py-data docutils literal notranslate"><span class="pre">API_SELENIUM</span></code></a></p>
<p>Submitted in <a class="reference internal" href="crawl.html#darc.crawl.loader" title="darc.crawl.loader"><code class="xref py py-func docutils literal notranslate"><span class="pre">loader()</span></code></a> function call, after the
loading process of the URL using <code class="xref py py-mod docutils literal notranslate"><span class="pre">selenium</span></code>.</p>
</li>
</ol>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Please refer to <a class="reference internal" href="../demo/schema.html"><span class="doc">data schema</span></a> for more
information about the submission data.</p>
</div>
<dl class="py function">
<dt id="darc.submit.get_hosts">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">get_hosts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darc/submit.html#get_hosts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darc.submit.get_hosts" title="Permalink to this definition">¶</a></dt>
<dd><p>Read <code class="docutils literal notranslate"><span class="pre">hosts.txt</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>link</strong> (<a class="reference internal" href="link.html#darc.link.Link" title="darc.link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>) – Link object to read <code class="docutils literal notranslate"><span class="pre">hosts.txt</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">hosts.txt</span></code> exists, return the data from <code class="docutils literal notranslate"><span class="pre">hosts.txt</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code> – relative path from <code class="docutils literal notranslate"><span class="pre">hosts.txt</span></code> to root of data storage
<a class="reference internal" href="const.html#darc.const.PATH_DB" title="darc.const.PATH_DB"><code class="xref py py-data docutils literal notranslate"><span class="pre">PATH_DB</span></code></a>, <code class="docutils literal notranslate"><span class="pre">&lt;proxy&gt;/&lt;scheme&gt;/&lt;hostname&gt;/hosts.txt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> – <em>base64</em> encoded content of <code class="docutils literal notranslate"><span class="pre">hosts.txt</span></code></p></li>
</ul>
</li>
<li><p>If not, return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="crawl.html#darc.crawl.crawler" title="darc.crawl.crawler"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.crawl.crawler()</span></code></a></p></li>
<li><p><a class="reference internal" href="proxy/i2p.html#darc.proxy.i2p.save_hosts" title="darc.proxy.i2p.save_hosts"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.proxy.i2p.save_hosts()</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="darc.submit.get_robots">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">get_robots</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darc/submit.html#get_robots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darc.submit.get_robots" title="Permalink to this definition">¶</a></dt>
<dd><p>Read <code class="docutils literal notranslate"><span class="pre">robots.txt</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>link</strong> (<a class="reference internal" href="link.html#darc.link.Link" title="darc.link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>) – Link object to read <code class="docutils literal notranslate"><span class="pre">robots.txt</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">robots.txt</span></code> exists, return the data from <code class="docutils literal notranslate"><span class="pre">robots.txt</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code> – relative path from <code class="docutils literal notranslate"><span class="pre">robots.txt</span></code> to root of data storage
<a class="reference internal" href="const.html#darc.const.PATH_DB" title="darc.const.PATH_DB"><code class="xref py py-data docutils literal notranslate"><span class="pre">PATH_DB</span></code></a>, <code class="docutils literal notranslate"><span class="pre">&lt;proxy&gt;/&lt;scheme&gt;/&lt;hostname&gt;/robots.txt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> – <em>base64</em> encoded content of <code class="docutils literal notranslate"><span class="pre">robots.txt</span></code></p></li>
</ul>
</li>
<li><p>If not, return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="crawl.html#darc.crawl.crawler" title="darc.crawl.crawler"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.crawl.crawler()</span></code></a></p></li>
<li><p><a class="reference internal" href="proxy/null.html#darc.proxy.null.save_robots" title="darc.proxy.null.save_robots"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.proxy.null.save_robots()</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="darc.submit.get_sitemaps">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">get_sitemaps</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darc/submit.html#get_sitemaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darc.submit.get_sitemaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Read sitemaps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>link</strong> (<a class="reference internal" href="link.html#darc.link.Link" title="darc.link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>) – Link object to read sitemaps.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>If sitemaps exist, return list of the data from sitemaps.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code> – relative path from sitemap to root of data storage
<a class="reference internal" href="const.html#darc.const.PATH_DB" title="darc.const.PATH_DB"><code class="xref py py-data docutils literal notranslate"><span class="pre">PATH_DB</span></code></a>, <code class="docutils literal notranslate"><span class="pre">&lt;proxy&gt;/&lt;scheme&gt;/&lt;hostname&gt;/sitemap_&lt;hash&gt;.xml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> – <em>base64</em> encoded content of sitemap</p></li>
</ul>
</li>
<li><p>If not, return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="crawl.html#darc.crawl.crawler" title="darc.crawl.crawler"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.crawl.crawler()</span></code></a></p></li>
<li><p><a class="reference internal" href="proxy/null.html#darc.proxy.null.save_sitemap" title="darc.proxy.null.save_sitemap"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.proxy.null.save_sitemap()</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="darc.submit.save_submit">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">save_submit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darc/submit.html#save_submit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darc.submit.save_submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Save failed submit data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> (<code class="docutils literal notranslate"><span class="pre">'new_host'</span></code>, <code class="docutils literal notranslate"><span class="pre">'requests'</span></code> or <code class="docutils literal notranslate"><span class="pre">'selenium'</span></code>) – Domain of the submit data.</p></li>
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]) – Submit data.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>The saved files will be categorised by the actual runtime day
for better maintenance.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#darc.submit.darc.submit.PATH_API" title="darc.submit.darc.submit.PATH_API"><code class="xref py py-data docutils literal notranslate"><span class="pre">darc.submit.PATH_API</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit" title="darc.submit.submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit_new_host" title="darc.submit.submit_new_host"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit_new_host()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit_requests" title="darc.submit.submit_requests"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit_requests()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit_selenium" title="darc.submit.submit_selenium"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit_selenium()</span></code></a></p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>domain</strong> (<em>Literal</em><em>[</em><em>new_host</em><em>, </em><em>requests</em><em>, </em><em>selenium</em><em>]</em>) – </p></li>
<li><p><strong>data</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darc.submit.submit">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">submit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darc/submit.html#submit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darc.submit.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>api</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – API URL.</p></li>
<li><p><strong>domain</strong> (<code class="docutils literal notranslate"><span class="pre">'new_host'</span></code>, <code class="docutils literal notranslate"><span class="pre">'requests'</span></code> or <code class="docutils literal notranslate"><span class="pre">'selenium'</span></code>) – Domain of the submit data.</p></li>
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]) – Submit data.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#darc.submit.darc.submit.API_RETRY" title="darc.submit.darc.submit.API_RETRY"><code class="xref py py-data docutils literal notranslate"><span class="pre">darc.submit.API_RETRY</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.save_submit" title="darc.submit.save_submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.save_submit()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit_new_host" title="darc.submit.submit_new_host"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit_new_host()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit_requests" title="darc.submit.submit_requests"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit_requests()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit_selenium" title="darc.submit.submit_selenium"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit_selenium()</span></code></a></p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>api</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – </p></li>
<li><p><strong>domain</strong> (<em>Literal</em><em>[</em><em>new_host</em><em>, </em><em>requests</em><em>, </em><em>selenium</em><em>]</em>) – </p></li>
<li><p><strong>data</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darc.submit.submit_new_host">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">submit_new_host</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darc/submit.html#submit_new_host"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darc.submit.submit_new_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit new host.</p>
<p>When a new host is discovered, the <a class="reference internal" href="index.html#module-darc" title="darc"><code class="xref py py-mod docutils literal notranslate"><span class="pre">darc</span></code></a> crawler will submit the
host information. Such includes <code class="docutils literal notranslate"><span class="pre">robots.txt</span></code> (if exists) and
<code class="docutils literal notranslate"><span class="pre">sitemap.xml</span></code> (if any).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><em>datetime.datetime</em></a>) – Timestamp of submission.</p></li>
<li><p><strong>link</strong> (<a class="reference internal" href="link.html#darc.link.Link" title="darc.link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>) – Link object of submission.</p></li>
<li><p><strong>partial</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – If the data is not complete, i.e. failed when fetching
<code class="docutils literal notranslate"><span class="pre">robots.txt</span></code>, <code class="docutils literal notranslate"><span class="pre">hosts.txt</span></code> and/or sitemaps.</p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – If the data is force re-fetched, i.e. cache expired when
checking with <a class="reference internal" href="db.html#darc.db.have_hostname" title="darc.db.have_hostname"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.db.have_hostname()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
<p>If <a class="reference internal" href="#darc.submit.darc.submit.API_NEW_HOST" title="darc.submit.darc.submit.API_NEW_HOST"><code class="xref py py-data docutils literal notranslate"><span class="pre">API_NEW_HOST</span></code></a> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>, the data for submission
will directly be save through <a class="reference internal" href="#darc.submit.save_submit" title="darc.submit.save_submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_submit()</span></code></a>.</p>
<p>The data submitted should have following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
    // partial flag - true / false
    &quot;$PARTIAL$&quot;: ...,
    // force flag - true / false
    &quot;$FORCE$&quot;: ...,
    // metadata of URL
    &quot;[metadata]&quot;: {
        // original URL - &lt;scheme&gt;://&lt;netloc&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;fragment&gt;
        &quot;url&quot;: ...,
        // proxy type - null / tor / i2p / zeronet / freenet
        &quot;proxy&quot;: ...,
        // hostname / netloc, c.f. ``urllib.parse.urlparse``
        &quot;host&quot;: ...,
        // base folder, relative path (to data root path ``PATH_DATA``) in containter - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;
        &quot;base&quot;: ...,
        // sha256 of URL as name for saved files (timestamp is in ISO format)
        //   JSON log as this one - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;.json
        //   HTML from requests - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;_raw.html
        //   HTML from selenium - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;.html
        //   generic data files - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;.dat
        &quot;name&quot;: ...,
        // originate URL - &lt;scheme&gt;://&lt;netloc&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;fragment&gt;
        &quot;backref&quot;: ...
    },
    // requested timestamp in ISO format as in name of saved file
    &quot;Timestamp&quot;: ...,
    // original URL
    &quot;URL&quot;: ...,
    // robots.txt from the host (if not exists, then ``null``)
    &quot;Robots&quot;: {
        // path of the file, relative path (to data root path ``PATH_DATA``) in container
        //   - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;/robots.txt
        &quot;path&quot;: ...,
        // content of the file (**base64** encoded)
        &quot;data&quot;: ...,
    },
    // sitemaps from the host (if none, then ``null``)
    &quot;Sitemaps&quot;: [
        {
            // path of the file, relative path (to data root path ``PATH_DATA``) in container
            //   - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;/sitemap_&lt;name&gt;.xml
            &quot;path&quot;: ...,
            // content of the file (**base64** encoded)
            &quot;data&quot;: ...,
        },
        ...
    ],
    // hosts.txt from the host (if proxy type is ``i2p``; if not exists, then ``null``)
    &quot;Hosts&quot;: {
        // path of the file, relative path (to data root path ``PATH_DATA``) in container
        //   - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;/hosts.txt
        &quot;path&quot;: ...,
        // content of the file (**base64** encoded)
        &quot;data&quot;: ...,
    }
}
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#darc.submit.darc.submit.API_NEW_HOST" title="darc.submit.darc.submit.API_NEW_HOST"><code class="xref py py-data docutils literal notranslate"><span class="pre">darc.submit.API_NEW_HOST</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit" title="darc.submit.submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.save_submit" title="darc.submit.save_submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.save_submit()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.get_robots" title="darc.submit.get_robots"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.get_robots()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.get_sitemaps" title="darc.submit.get_sitemaps"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.get_sitemaps()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.get_hosts" title="darc.submit.get_hosts"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.get_hosts()</span></code></a></p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><em>datetime.datetime</em></a>) – </p></li>
<li><p><strong>link</strong> (<a class="reference internal" href="link.html#darc.link.Link" title="darc.link.Link"><em>darc.link.Link</em></a>) – </p></li>
<li><p><strong>partial</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – </p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darc.submit.submit_requests">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">submit_requests</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darc/submit.html#submit_requests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darc.submit.submit_requests" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit requests data.</p>
<p>When crawling, we’ll first fetch the URl using <a class="reference external" href="https://docs.python-requests.org/en/latest/api/#module-requests" title="(in Requests v2.25.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">requests</span></code></a>, to check
its availability and to save its HTTP headers information. Such information
will be submitted to the web UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><em>datetime.datetime</em></a>) – Timestamp of submission.</p></li>
<li><p><strong>link</strong> (<a class="reference internal" href="link.html#darc.link.Link" title="darc.link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>) – Link object of submission.</p></li>
<li><p><strong>response</strong> (<a class="reference external" href="https://docs.python-requests.org/en/latest/api/#requests.Response" title="(in Requests v2.25.1)"><em>requests.Response</em></a>) – Response object of submission.</p></li>
<li><p><strong>session</strong> (<a class="reference external" href="https://docs.python-requests.org/en/latest/api/#requests.Session" title="(in Requests v2.25.1)"><em>requests.Session</em></a>) – Session object of submission.</p></li>
<li><p><strong>content</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>) – Raw content of from the response.</p></li>
<li><p><strong>mime_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Content type.</p></li>
<li><p><strong>html</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – If current document is HTML or other files.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
<p>If <a class="reference internal" href="#darc.submit.darc.submit.API_REQUESTS" title="darc.submit.darc.submit.API_REQUESTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">API_REQUESTS</span></code></a> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>, the data for submission
will directly be save through <a class="reference internal" href="#darc.submit.save_submit" title="darc.submit.save_submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_submit()</span></code></a>.</p>
<p>The data submitted should have following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
    // metadata of URL
    &quot;[metadata]&quot;: {
        // original URL - &lt;scheme&gt;://&lt;netloc&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;fragment&gt;
        &quot;url&quot;: ...,
        // proxy type - null / tor / i2p / zeronet / freenet
        &quot;proxy&quot;: ...,
        // hostname / netloc, c.f. ``urllib.parse.urlparse``
        &quot;host&quot;: ...,
        // base folder, relative path (to data root path ``PATH_DATA``) in containter - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;
        &quot;base&quot;: ...,
        // sha256 of URL as name for saved files (timestamp is in ISO format)
        //   JSON log as this one - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;.json
        //   HTML from requests - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;_raw.html
        //   HTML from selenium - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;.html
        //   generic data files - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;.dat
        &quot;name&quot;: ...,
        // originate URL - &lt;scheme&gt;://&lt;netloc&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;fragment&gt;
        &quot;backref&quot;: ...
    },
    // requested timestamp in ISO format as in name of saved file
    &quot;Timestamp&quot;: ...,
    // original URL
    &quot;URL&quot;: ...,
    // request method
    &quot;Method&quot;: &quot;GET&quot;,
    // response status code
    &quot;Status-Code&quot;: ...,
    // response reason
    &quot;Reason&quot;: ...,
    // response cookies (if any)
    &quot;Cookies&quot;: {
        ...
    },
    // session cookies (if any)
    &quot;Session&quot;: {
        ...
    },
    // request headers (if any)
    &quot;Request&quot;: {
        ...
    },
    // response headers (if any)
    &quot;Response&quot;: {
        ...
    },
    // content type
    &quot;Content-Type&quot;: ...,
    // requested file (if not exists, then ``null``)
    &quot;Document&quot;: {
        // path of the file, relative path (to data root path ``PATH_DATA``) in container
        //   - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;/&lt;name&gt;_&lt;timestamp&gt;_raw.html
        // or if the document is of generic content type, i.e. not HTML
        //   - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;/&lt;name&gt;_&lt;timestamp&gt;.dat
        &quot;path&quot;: ...,
        // content of the file (**base64** encoded)
        &quot;data&quot;: ...,
    },
    // redirection history (if any)
    &quot;History&quot;: [
        // same record data as the original response
        {&quot;...&quot;: &quot;...&quot;}
    ]
}
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#darc.submit.darc.submit.API_REQUESTS" title="darc.submit.darc.submit.API_REQUESTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">darc.submit.API_REQUESTS</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit" title="darc.submit.submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.save_submit" title="darc.submit.save_submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.save_submit()</span></code></a></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.get_raw()</span></code></p></li>
<li><p><a class="reference internal" href="crawl.html#darc.crawl.crawler" title="darc.crawl.crawler"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.crawl.crawler()</span></code></a></p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><em>datetime.datetime</em></a>) – </p></li>
<li><p><strong>link</strong> (<a class="reference internal" href="link.html#darc.link.Link" title="darc.link.Link"><em>darc.link.Link</em></a>) – </p></li>
<li><p><strong>response</strong> (<em>requests.models.Response</em>) – </p></li>
<li><p><strong>session</strong> (<em>requests.sessions.Session</em>) – </p></li>
<li><p><strong>content</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.9)"><em>bytes</em></a>) – </p></li>
<li><p><strong>mime_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – </p></li>
<li><p><strong>html</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darc.submit.submit_selenium">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">submit_selenium</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenshot</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darc/submit.html#submit_selenium"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darc.submit.submit_selenium" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit selenium data.</p>
<p>After crawling with <a class="reference external" href="https://docs.python-requests.org/en/latest/api/#module-requests" title="(in Requests v2.25.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">requests</span></code></a>, we’ll then render the URl using
<code class="xref py py-mod docutils literal notranslate"><span class="pre">selenium</span></code> with Google Chrome and its web driver, to provide a fully
rendered web page. Such information will be submitted to the web UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><em>datetime.datetime</em></a>) – Timestamp of submission.</p></li>
<li><p><strong>link</strong> (<a class="reference internal" href="link.html#darc.link.Link" title="darc.link.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>) – Link object of submission.</p></li>
<li><p><strong>html</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – HTML source of the web page.</p></li>
<li><p><strong>screenshot</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – <em>base64</em> encoded screenshot.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
<p>If <a class="reference internal" href="#darc.submit.darc.submit.API_SELENIUM" title="darc.submit.darc.submit.API_SELENIUM"><code class="xref py py-data docutils literal notranslate"><span class="pre">API_SELENIUM</span></code></a> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>, the data for submission
will directly be save through <a class="reference internal" href="#darc.submit.save_submit" title="darc.submit.save_submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_submit()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This information is optional, only provided if the content type from
<a class="reference external" href="https://docs.python-requests.org/en/latest/api/#module-requests" title="(in Requests v2.25.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">requests</span></code></a> is HTML, status code not between <code class="docutils literal notranslate"><span class="pre">400</span></code> and <code class="docutils literal notranslate"><span class="pre">600</span></code>, and
HTML data not empty.</p>
</div>
<p>The data submitted should have following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
    // metadata of URL
    &quot;[metadata]&quot;: {
        // original URL - &lt;scheme&gt;://&lt;netloc&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;fragment&gt;
        &quot;url&quot;: ...,
        // proxy type - null / tor / i2p / zeronet / freenet
        &quot;proxy&quot;: ...,
        // hostname / netloc, c.f. ``urllib.parse.urlparse``
        &quot;host&quot;: ...,
        // base folder, relative path (to data root path ``PATH_DATA``) in containter - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;
        &quot;base&quot;: ...,
        // sha256 of URL as name for saved files (timestamp is in ISO format)
        //   JSON log as this one - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;.json
        //   HTML from requests - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;_raw.html
        //   HTML from selenium - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;.html
        //   generic data files - &lt;base&gt;/&lt;name&gt;_&lt;timestamp&gt;.dat
        &quot;name&quot;: ...,
        // originate URL - &lt;scheme&gt;://&lt;netloc&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;fragment&gt;
        &quot;backref&quot;: ...
    },
    // requested timestamp in ISO format as in name of saved file
    &quot;Timestamp&quot;: ...,
    // original URL
    &quot;URL&quot;: ...,
    // rendered HTML document (if not exists, then ``null``)
    &quot;Document&quot;: {
        // path of the file, relative path (to data root path ``PATH_DATA``) in container
        //   - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;/&lt;name&gt;_&lt;timestamp&gt;.html
        &quot;path&quot;: ...,
        // content of the file (**base64** encoded)
        &quot;data&quot;: ...,
    },
    // web page screenshot (if not exists, then ``null``)
    &quot;Screenshot&quot;: {
        // path of the file, relative path (to data root path ``PATH_DATA``) in container
        //   - &lt;proxy&gt;/&lt;scheme&gt;/&lt;host&gt;/&lt;name&gt;_&lt;timestamp&gt;.png
        &quot;path&quot;: ...,
        // content of the file (**base64** encoded)
        &quot;data&quot;: ...,
    }
}
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#darc.submit.darc.submit.API_SELENIUM" title="darc.submit.darc.submit.API_SELENIUM"><code class="xref py py-data docutils literal notranslate"><span class="pre">darc.submit.API_SELENIUM</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.submit" title="darc.submit.submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.submit()</span></code></a></p></li>
<li><p><a class="reference internal" href="#darc.submit.save_submit" title="darc.submit.save_submit"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.save_submit()</span></code></a></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.get_html()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.submit.get_screenshot()</span></code></p></li>
<li><p><a class="reference internal" href="crawl.html#darc.crawl.loader" title="darc.crawl.loader"><code class="xref py py-func docutils literal notranslate"><span class="pre">darc.crawl.loader()</span></code></a></p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><em>datetime.datetime</em></a>) – </p></li>
<li><p><strong>link</strong> (<a class="reference internal" href="link.html#darc.link.Link" title="darc.link.Link"><em>darc.link.Link</em></a>) – </p></li>
<li><p><strong>html</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – </p></li>
<li><p><strong>screenshot</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<dl class="py data">
<dt id="darc.submit.darc.submit.PATH_API">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">PATH_API</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'{PATH_DB}/api/'</span></em><a class="headerlink" href="#darc.submit.darc.submit.PATH_API" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the API submittsion records, i.e. <code class="docutils literal notranslate"><span class="pre">api</span></code> folder under the
root of data storage.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="const.html#darc.const.PATH_DB" title="darc.const.PATH_DB"><code class="xref py py-data docutils literal notranslate"><span class="pre">darc.const.PATH_DB</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py data">
<dt id="darc.submit.darc.submit.SAVE_DB">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">SAVE_DB</span></code><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></em><a class="headerlink" href="#darc.submit.darc.submit.SAVE_DB" title="Permalink to this definition">¶</a></dt>
<dd><p>Save submitted data to database.</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">True</span></code></a></p>
</dd>
<dt class="field-even">Environ</dt>
<dd class="field-even"><p><span class="target" id="index-0"></span><a class="reference internal" href="../config.html#envvar-SAVE_DB"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">SAVE_DB</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt id="darc.submit.darc.submit.API_RETRY">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">API_RETRY</span></code><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a></em><a class="headerlink" href="#darc.submit.darc.submit.API_RETRY" title="Permalink to this definition">¶</a></dt>
<dd><p>Retry times for API submission when failure.</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p>
</dd>
<dt class="field-even">Environ</dt>
<dd class="field-even"><p><span class="target" id="index-1"></span><a class="reference internal" href="../config.html#envvar-API_RETRY"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">API_RETRY</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt id="darc.submit.darc.submit.API_NEW_HOST">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">API_NEW_HOST</span></code><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#darc.submit.darc.submit.API_NEW_HOST" title="Permalink to this definition">¶</a></dt>
<dd><p>API URL for <a class="reference internal" href="#darc.submit.submit_new_host" title="darc.submit.submit_new_host"><code class="xref py py-func docutils literal notranslate"><span class="pre">submit_new_host()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
<dt class="field-even">Environ</dt>
<dd class="field-even"><p><span class="target" id="index-2"></span><a class="reference internal" href="../config.html#envvar-API_NEW_HOST"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">API_NEW_HOST</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt id="darc.submit.darc.submit.API_REQUESTS">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">API_REQUESTS</span></code><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#darc.submit.darc.submit.API_REQUESTS" title="Permalink to this definition">¶</a></dt>
<dd><p>API URL for <a class="reference internal" href="#darc.submit.submit_requests" title="darc.submit.submit_requests"><code class="xref py py-func docutils literal notranslate"><span class="pre">submit_requests()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
<dt class="field-even">Environ</dt>
<dd class="field-even"><p><span class="target" id="index-3"></span><a class="reference internal" href="../config.html#envvar-API_REQUESTS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">API_REQUESTS</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt id="darc.submit.darc.submit.API_SELENIUM">
<code class="sig-prename descclassname"><span class="pre">darc.submit.</span></code><code class="sig-name descname"><span class="pre">API_SELENIUM</span></code><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#darc.submit.darc.submit.API_SELENIUM" title="Permalink to this definition">¶</a></dt>
<dd><p>API URL for <a class="reference internal" href="#darc.submit.submit_selenium" title="darc.submit.submit_selenium"><code class="xref py py-func docutils literal notranslate"><span class="pre">submit_selenium()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
<dt class="field-even">Environ</dt>
<dd class="field-even"><p><span class="target" id="index-4"></span><a class="reference internal" href="../config.html#envvar-API_SELENIUM"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">API_SELENIUM</span></code></a></p>
</dd>
</dl>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <a class="reference internal" href="#darc.submit.darc.submit.API_NEW_HOST" title="darc.submit.darc.submit.API_NEW_HOST"><code class="xref py py-data docutils literal notranslate"><span class="pre">API_NEW_HOST</span></code></a>, <a class="reference internal" href="#darc.submit.darc.submit.API_REQUESTS" title="darc.submit.darc.submit.API_REQUESTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">API_REQUESTS</span></code></a>
and <a class="reference internal" href="#darc.submit.darc.submit.API_SELENIUM" title="darc.submit.darc.submit.API_SELENIUM"><code class="xref py py-data docutils literal notranslate"><span class="pre">API_SELENIUM</span></code></a> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>, the corresponding
submit function will save the JSON data in the path
specified by <a class="reference internal" href="#darc.submit.darc.submit.PATH_API" title="darc.submit.darc.submit.PATH_API"><code class="xref py py-data docutils literal notranslate"><span class="pre">PATH_API</span></code></a>.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The <a class="reference internal" href="index.html#module-darc" title="darc"><code class="xref py py-mod docutils literal notranslate"><span class="pre">darc</span></code></a> provides a demo on how to implement a <a class="reference internal" href="index.html#module-darc" title="darc"><code class="xref py py-mod docutils literal notranslate"><span class="pre">darc</span></code></a>-compliant
web backend for the data submission module. See the <a class="reference internal" href="../demo/api.html"><span class="doc">demo</span></a>
page for more information.</p>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">darc</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=JarryShaw&repo=darc&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../howto/index.html">How to …</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Technical Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="process.html">Main Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="crawl.html">Web Crawlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="link.html">URL Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="parse.html">Source Parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="save.html">Source Saving</a></li>
<li class="toctree-l2"><a class="reference internal" href="db.html">Link Database</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Data Submission</a></li>
<li class="toctree-l2"><a class="reference internal" href="requests.html">Requests Wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="selenium.html">Selenium Wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="proxy/index.html">Proxy Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="sites/index.html">Sites Customisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="const.html">Module Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="error.html">Custom Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="model/index.html">Data Models</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../custom.html">Customisations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">Docker Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo/api.html">Web Backend Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo/model.html">Data Models Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo/schema.html">Submission Data Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aux.html">Auxiliary Scripts</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Technical Documentation</a><ul>
      <li>Previous: <a href="db.html" title="previous chapter">Link Database</a></li>
      <li>Next: <a href="requests.html" title="next chapter">Requests Wrapper</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019-2020, Jarry Shaw.
      
      |
      <a href="../_sources/darc/submit.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/JarryShaw/darc" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>